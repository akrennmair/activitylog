<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<script src="/js/bacon.js"></script>
		<script src="/js/modernizr.js"></script>
		<script>
			if (bacon.isMobile() === true) {
				document.location = '/m/';
			} else {
				Modernizr.load([
					// first load jquery, bootstrap, handlebars
					{
						load: [ '/js/jquery.js', '/js/bootstrap.min.js', '/js/handlebars-1.0.rc.1.js' ]
					},
					// then load the application code
					{
						load: [ '/js/app.js' ]
					}
				]);
			}
		</script>
		<link href="/css/bootstrap.css" rel="stylesheet">
		<style>
			body { padding-top: 60px; }
		</style>
		<link href="/css/bootstrap-responsive.css" rel="stylesheet">
		<title>Activity Log</title>
	</head>
	<body>
		<div class="navbar navbar-fixed-top navbar-inverse">
			<div class="navbar-inner">
				<div class="container-fluid">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="/">Activity Log</a>
					<div class="nav-collapse">
						<ul class="nav">
							<li><a href="/">Home</a></li>
							<li><a href="/">About</a></li>
							<li><a href="/">Contact</a></li>
							<li><a href="/m/">Mobile Version</a></li>
						</ul>
					</div>
					<div class="pull-right" id="logged_in_form" style="display: none">
						<!-- TODO: show username somewhere here -->
						<div><button class="btn" id="btn_logout">Logout</button></div>
					</div>
					<form class="navbar-form pull-right" id="login_form">
						<input name="login" id="username" type="text" placeholder="Username" class="span2">
						<input name="password" id="password" type="password" placeholder="Password" class="span2">
						<button class="btn btn-primary" id="btn_signin">Sign in</button>
						<a class="btn btn-success" href="#">Sign Up</a>
					</form>
				</div>
			</div>
		</div>
		<div class="container_fluid" id="login_page">
			<div class="row-fluid">
				<div class="hero-unit">
					<h1>
						Hello, world!
					</h1>
					<p>
						TODO: here should be a description about the service.
					</p>
				</div>
			</div>
			<div class="row-fluid">
				TODO: here should be a list of the latest public activities of all users
			</div>
		</div>
		<div class="container-fluid" id="main_page" style="display: none">
			<div class="row-fluid">
				<div class="span3">
					<div class="well sidebar-nav">
						<ul class="nav nav-list">
							<li class="nav-header">Menu</li>
							<li></li>
							<li><a href="#">Add Activity</a></li>
							<li><a href="#">Edit Activity Types</a></li>
							<li><a href="#">Statistics</a></li>
						</ul>
					</div>
				</div>
				<div class="span9">
					<div id="latest_activities"></div>
				</div>
			</div>
		</div>
		<script id="tmpl_latest_activities_table" type="text/x-handlebars-template">
			<h3>Latest Activities</h3>
			<table class="table table-striped table-condensed table-bordered">
				<thead>
					<tr>
						<th>Time</th>
						<th>Description</th>
						<th>Coordinates</th>
					</tr>
				</thead>
				<tbody>
					{{#each activities}}
					<tr>
						<td>{{this.ts}}</td>
						<td>{{this.desc}}</td>
						<td>{{#if this.lat}}{{this.lat}},{{this.long}}{{else}}n/a{{/if}}</td>
					</tr>
					{{/each}}
				</tbody>
			</table>
		</script>
	</body>
</html>
